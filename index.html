
<html>

<head>
    <meta name=viewport content='width=device-width'>
    <meta name="google-site-verification" content="cw0Nbm73FcLB9kSYvCUhc5q-6CrLFcgJQy0h_qzG0O8" />
    <link href='https://fonts.googleapis.com/css?family=Neuton|Merriweather|Inconsolata:400,700' rel='stylesheet'
        type='text/css'>
    <link rel="stylesheet" type="text/css" href="http://localhost:8080/resources/style.css" />
    <link
        rel="alternate"
        type="application/atom+xml"
        title="Craig Weber"
        href="http://localhost:8080/feed.atom"
    >
    <script>
        function submitAnalytics() {
            const analyticsUrl = "https:\/\/azd7mnx3pk.execute-api.us-east-2.amazonaws.com";
            var body = document.getElementById("body");
            var img = document.createElement("img");
            var qstring = [
                `path=${encodeURIComponent(window.location.pathname)}`,
                `host=${encodeURIComponent(window.location.hostname)}`,
                `proto=${encodeURIComponent(window.location.protocol)}`,
                `referer=${encodeURIComponent(window.referer)}`,
            ].join("&");
            img.setAttribute("src", `${analyticsUrl}/?${qstring}`);
            body.appendChild(img);
        }
    </script>
    <title>Craig Weber</title>
</head>

<body onload=submitAnalytics()>
    <h1 id="site-header">
        <a id="site-title" href="http://localhost:8080/index.html">
            Craig Weber
        </a>
    </h1>
    <div id="page" class="center-column">
        
    <div id="post-list">
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/working-around-ext4-on-macos.html">Working around ext4 on MacOS</a></h2>
            <div><span class="post-date">2021-01-23</span></div>
            <div class="post-body">
                
                
                
                    <p>One of the maddening things about MacOS is that it lacks ext4 file system
support. This is a bummer because I use ext4 on many of my external hard
drives as well as boot volumes for various headless Linux machines. Once in a
while, these boot drives become corrupted (due to user error) and I find myself
wanting to mount the file system on another system to repair the error. Ideally
I can just pop it in a SATA&lt;-&gt;USB adapter and mount it on my Mac, but alas&hellip;</p>


                    <a href="http://localhost:8080/posts/working-around-ext4-on-macos.html">Read more...</a>
                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/changelog.html">Changelog</a></h2>
            <div><span class="post-date">2021-01-16</span></div>
            <div class="post-body">
                
                
                
                    <p>I worked on this blog for several hours this weekend, releasing a new post,
implementing a couple new features and fixing some bugs. Here are the
highlights:</p>

<ul>
<li>Published the <a href="http://localhost:8080/posts/homelab-part-i-hardware.html">first entry</a> in my <a href="http://localhost:8080/posts/homelab-intro.html">Homelab</a> series</li>
<li>Fixed a bug on iPad that was causing a ~300% zoom</li>
<li>Implemented syndication (atom feed)</li>
<li>Fixed broken relative links in post snippets</li>
<li>Reduced coupling between markdown and site configuration</li>
</ul>


                    <a href="http://localhost:8080/posts/changelog.html">Read more...</a>
                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/homelab-part-i-hardware.html">Homelab Part I: Hardware</a></h2>
            <div><span class="post-date">2021-01-14</span></div>
            <div class="post-body">
                
                
                
                    <p>For hardware, I settled on Raspberry Pi 4Bs. They support up to 8GB of RAM
(enough power to run the k3s master nodes) and USB 3.0 for fast external SSD
I/O. The only downside of the 4Bs is that they require more power than the 3Bs,
and the same multiport USB power supplies that could support a 3B cluster
couldn&rsquo;t support a 4B cluster. To solve for this, I decided on PoE hats and a
PoE switch. This halves the number of cables that need to be run to each Pi,
which makes the Pi cluster that much more enjoyable and easy on the eyes.</p>


                    <a href="http://localhost:8080/posts/homelab-part-i-hardware.html">Read more...</a>
                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/macos-force-rgb.html">Force RGB-mode (fix pink tint) in macOS in 3 easy steps</a></h2>
            <div><span class="post-date">2021-01-04</span></div>
            <div class="post-body">
                
                
                
                    <p>For whatever reason, macOS Catalina and Big Sur were both tinting my external
monitor pink. Some research indicated that it had to do with the color mode,
notably that I needed to force RGB. MacOS&rsquo;s UI doesn&rsquo;t give the user the
ability to change the color mode directly, so you have to hack around the
display profile files directly.</p>

<p><a href="https://www.mathewinkson.com/2013/03/force-rgb-mode-in-mac-os-x-to-fix-the-picture-quality-of-an-external-monitor">This post</a> and its comments from 2013 seem to be the authoritative guide on
forcing RGB mode; however, these steps (and the variations found in the
comments) make you do a lot of things, including disabling the System Integrity
Protection (basically the stuff that prevents even the super user from changing
certain files and directories), booting into recovery mode, changing boot files
(which can put your system into a boot loop, as I discovered the hard way), and
a number of other dangerous, arcane things.</p>

<p>Fortunately, I found a sequence that is much safer and easier (tested on both
Big Sur and Catalina on two distinct MacBook Pros):</p>


                    <a href="http://localhost:8080/posts/macos-force-rgb.html">Read more...</a>
                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/homelab-intro.html">Kubernetes &#43; Raspberry Pi Homelab: Introduction</a></h2>
            <div><span class="post-date">2021-01-03</span></div>
            <div class="post-body">
                
                
                
                    <p>As I alluded to in my <a href="http://localhost:8080/posts/k3s-tailscale.html">last post</a>, I&rsquo;ve finally decided to pull the trigger
and build my own homelab: a personal computing environment for playing around
with new tools and approaches for developing or operating software, including
software that is personally useful.</p>

<p>For my homelab, I want to build a Raspberry Pi Kubernetes cluster for hosting
my own applications and experimenting with different tools and approaches for
operating software. However, bare metal (i.e., not running on a public cloud
provider, such as AWS) is a second-class citizen for Kubernetes, so one must
bring their own providers for storage, networking, load balancing, ingress
(roughly &ldquo;HTTP/layer-7 routing&rdquo;), and much more.</p>

<p>One day, I have no doubt that there will be Kubernetes distributions targeting
bare metal which are mature, robust, and open source; in the meanwhile, this
series will document my efforts to work around those limitations so that others
can build their own personal cloud platform more easily (or at least know what
they&rsquo;re considering getting into!).</p>

<p>Next time, I&rsquo;ll delve into the hardware I&rsquo;m using for my cluster.</p>

<ul>
<li><a href="http://localhost:8080/posts/homelab-part-i-hardware.html">Part I: Hardware</a></li>
</ul>

                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/k3s-tailscale.html">K3s &#43; Tailscale</a></h2>
            <div><span class="post-date">2020-12-30</span></div>
            <div class="post-body">
                
                
                
                    <p>I&rsquo;ve recently been working on my Raspberry Pi Kubernetes cluster. I also use
<a href="https://tailscale.com/">Tailscale</a> for my home VPN (because it&rsquo;s performant and absurdly easy to
setup and configure). I wanted to run Kubernetes services on my VPN using
private DNS names (e.g., <code>foo.local</code>) and addresses from the Tailscale address
space (e.g., <code>100.*</code>) as opposed to the host network address space (e.g.,
<code>192.168.*</code>).</p>


                    <a href="http://localhost:8080/posts/k3s-tailscale.html">Read more...</a>
                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/golang-iterator-sketch.html">Go generics iterator sketch</a></h2>
            <div><span class="post-date">2020-06-17</span></div>
            <div class="post-body">
                
                
                
                    <p>The new Go generics proposal and playground gives us something to play with.
Here&rsquo;s a sketch of what a basic iterator library could look like. It&rsquo;s based on
function types instead of interfaces; I think this gives better ergonomics than
interface-based designs, especially if the proposal drops its seemingly
arbitrary <a href="https://go.googlesource.com/proposal/+/refs/heads/master/design/go2draft-type-parameters.md#methods-may-not-take-additional-type-arguments">restrictions for method types</a>.</p>

<p>I&rsquo;m not sure about returning a pointer to the type as opposed to a <code>(T, bool)</code>
tuple. In particular, I suspect this will cause unnecessary allocations, but I
haven&rsquo;t tested at all.</p>


                    <a href="http://localhost:8080/posts/golang-iterator-sketch.html">Read more...</a>
                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/multiple-github-account-tips.html">Tips for working with multiple GitHub accounts</a></h2>
            <div><span class="post-date">2020-04-25</span></div>
            <div class="post-body">
                
                
                
                    <p>I use GitHub for my work and personal projects with different profiles for
each. Because it&rsquo;s a good security/privacy practice, each profile has its
own distinct SSH key. However, this causes problems because the <code>git</code> CLI
will always try to use the first SSH key that maps to the <code>github.com</code>
domain even if that key has no permissions for the target repository. The
other more straightforward problem with multiple accounts is that the
GitHub.com browser cookie asserts that you are only logged into one account
at a time.</p>

<p>My solutions for these problems are <a href="https://direnv.net/"><code>direnv</code></a> and <a href="https://support.mozilla.org/en-US/kb/containers">Firefox
Containers</a>, respectively. These use cases are straightforward
applications of these technologies, so I&rsquo;m not claiming any innovation here,
but rather it took me a long time to identify these solutions, and I hope
this saves others some time. If you&rsquo;re not familiar with these tools, read
on for details.</p>


                    <a href="http://localhost:8080/posts/multiple-github-account-tips.html">Read more...</a>
                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/5-myths-infra-as-code.html">5 myths about infrastructure-as-code via general purpose programming languages
</a></h2>
            <div><span class="post-date">2020-04-15</span></div>
            <div class="post-body">
                
                
                
                    <p>There&rsquo;s an ongoing debate among infrastructure-as-code practitioners between
configuration languages like YAML and HCL and using &ldquo;real programming
languages&rdquo; (including domain specific programming languages) to generate
configuration. The debate is going very poorly because there is a lot
of confusion about the &ldquo;real programming languages&rdquo; position, so I want to
correct some of the common points of confusion (&ldquo;myths&rdquo;) so the conversation
can focus on more substantial concerns.</p>


                    <a href="http://localhost:8080/posts/5-myths-infra-as-code.html">Read more...</a>
                
            </div>
        </div>
    
        <div id="post">
            <h2 class="post-title"><a href="http://localhost:8080/posts/blog-infra-updates.html">Blog infrastructure updates</a></h2>
            <div><span class="post-date">2020-03-28</span></div>
            <div class="post-body">
                
                
                
                    <p>Another year, another blog update. BitBucket is deprecating their Mercurial
support, and while I really do appreciate Mercurial, it&rsquo;s just easier for me to
keep everything in GitHub than trying to find another Mercurial provider. Also,
GitHub seems to be improving at a pretty rapid pace. So voila, this blog is now
hosted on GitHub. This includes my pet static site generator, <a href="https://github.com/weberc2/neon"><code>neon</code></a> which
is used to generate this site.</p>

<p>Further, my pet build tool <a href="https://github.com/weberc2/builder"><code>builder</code></a> is sufficiently far along that I
can use it to automate the building of this static site. <code>builder</code> is pretty
cool so far. At some point I will write a dedicated post about it.</p>

                
            </div>
        </div>
    
    </div>

        <div id="pagination">
            
            
            <div class="pagination" id="pagination-next">
                <a href="http://localhost:8080/1.html">Next&nbsp;&raquo;</a>
            </div>
            
        </div>
    </div>
    <div id="footer">
        <div id="footer-content" class="center-column">
            <div class="footer-section">
                <h4>About</h4>
                <p>
                    Software enthusiast. Amateur blogger. I build things at
                    <a href="https://tempus.com">Tempus.</a> Thoughts and
                    opinions are my own.
                </p>
            </div>
            
            <div class="footer-section">
                <h4>Contact</h4>
                <ul>
                    
                    <li>
                        <a href="http://twitter.com/weberc2">
                            Twitter
                        </a>
                    </li>
                    
                    <li>
                        <a href="http://github.com/weberc2">
                            Github
                        </a>
                    </li>
                    
                    <li><a href="http://localhost:8080/feed.atom">Atom Feed</a></li>
                </ul>
            </div>
            
            
            <div class="footer-section">
                <h4>Copyright</h4>
                Craig Weber 2016
            </div>
            
        </div>
    </div>
</body>

</html>
