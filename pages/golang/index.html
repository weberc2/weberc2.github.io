
<html>

<head>
<title>Craig Weber</title>

    <meta charset="UTF-8">
    <meta name=viewport content='width=device-width'>
    <meta name="google-site-verification" content="cw0Nbm73FcLB9kSYvCUhc5q-6CrLFcgJQy0h_qzG0O8" />
    <link href='https://fonts.googleapis.com/css?family=Neuton|Merriweather|Inconsolata:400,700' rel='stylesheet'
        type='text/css'>
    <link rel="stylesheet" type="text/css" href="http://localhost:8000/static/style.css">
    <link rel="alternate" type="application/atom+xml" title="Craig Weber" href="http://localhost:8000/feed.atom">
    <script>
        function submitAnalytics() {
            const analyticsUrl = "https://azd7mnx3pk.execute-api.us-east-2.amazonaws.com";
            var body = document.getElementById("body");
            var img = document.createElement("img");
            var qstring = [
                `path=${encodeURIComponent(window.location.pathname)}`,
                `host=${encodeURIComponent(window.location.hostname)}`,
                `proto=${encodeURIComponent(window.location.protocol)}`,
                `referer=${encodeURIComponent(window.referer)}`,
            ].join("&");
            img.setAttribute("src", `${analyticsUrl}/?${qstring}`);
            body.appendChild(img);
        }
    </script>
</head>

<body>
    <h1 id="site-header"><a id="site-title" href="http://localhost:8000/index.html">Craig Weber</a></h1>
    <div id="page" class="center-column">
<div id="post-list">
    <div class="post">
        <h2 class="post-title"><a href=http://localhost:8000/posts/golang-iterator-sketch.html>Go generics iterator sketch</a></h2>
<div class="post-meta">
    <span class="post-date">2020-06-17</span>
    <span class="tag"><a href="http://localhost:8000/pages/golang/index.html">golang</a></span>
</div>
        <div class="post-body">
            <p>The new Go generics proposal and playground gives us something to play with.
Here’s a sketch of what a basic iterator library could look like. It’s based on
function types instead of interfaces; I think this gives better ergonomics than
interface-based designs, especially if the proposal drops its seemingly
arbitrary <a href="https://go.googlesource.com/proposal/+/refs/heads/master/design/go2draft-type-parameters.md#methods-may-not-take-additional-type-arguments" title="">restrictions for method types</a>.</p><p>I’m not sure about returning a pointer to the type as opposed to a <code>(T, bool)</code>
tuple. In particular, I suspect this will cause unnecessary allocations, but I
haven’t tested at all.</p>
            <a href=http://localhost:8000/posts/golang-iterator-sketch.html>Read More</a>
        </div>
    </div>
    <div class="post">
        <h2 class="post-title"><a href=http://localhost:8000/posts/golang-docker-scratch-app.html>Deploying Go apps on Docker scratch images</a></h2>
<div class="post-meta">
    <span class="post-date">2018-11-04</span>
    <span class="tag"><a href="http://localhost:8000/pages/docker/index.html">docker</a></span>
    <span class="tag"><a href="http://localhost:8000/pages/golang/index.html">golang</a></span>
</div>
        <div class="post-body">
            <p>NOTE: If you’re here for the TL;DR, skip to the bottom.</p><p>A few months ago I built out some monitoring infrastructure at work using Go. I
deployed it to ECS (a Docker orchestrator, functionally similar to Kubernetes),
and for fun I decided to see how minimal I could make the image. I’ve used
Alpine base images before (which weigh in at about 5 MB and usually another 5 MB
for a small Go binary), but being that Go advertises itself as requiring only a
Linux kernel (most programming languages depend on an interpreter, a VM, and/or
system libraries–the latter abstract over kernel functionality and sometimes
provide a stable interface to the kernel), I wanted to see how true or practical
this was, and I wanted to better understand the things that I was taking for
granted by using distros.</p><p>As a matter of context, Docker has a special base image called <code>scratch</code> which
is empty–an application running on a scratch base image only has access to the
kernel (at least to the extent that containers provide isolation).</p>
            <a href=http://localhost:8000/posts/golang-docker-scratch-app.html>Read More</a>
        </div>
    </div>
    <div class="post">
        <h2 class="post-title"><a href=http://localhost:8000/posts/go-getting-started.html>Getting started with Go, 2018 edition</a></h2>
<div class="post-meta">
    <span class="post-date">2018-10-14</span>
    <span class="tag"><a href="http://localhost:8000/pages/golang/index.html">golang</a></span>
</div>
        <div class="post-body">
            <p>A little over 2.5 years ago, I wrote a tutorial about <a href="./installing-go-on-linux-and-osx.md" title="">installing Go</a>. Since
then, one of the more significant changes to the Go ecosystem has been the
addition of <a href="https://github.com/golang/go/wiki/Modules" title="">modules</a>, which effectively does away with the hardest part of
installing Go–<code>$GOPATH</code>. This change occurred in the latest version: Go 1.11.</p><p>In addition to installing Go, I wanted to make a guide that can get you from
nothing to a real project in half an hour. Most languages focus their
introductory material on the language and briefly cover setting up a toy
program. When you’re done, you realize you have no idea how to build a
multi-file program, how to add dependencies (or at least how to add them in a
way that won’t break other things on your system), how to get an editor up
and running, etc.</p><p>I’m not going to focus much at all on Go the language here, since it’s super
easy to learn and there are already many great tutorials (the official
<a href="https://tour.golang.org" title="">Tour</a> is probably not a bad place to start). I’m only going to go deep
enough to give you a lay of the land; if I’ve done my job, it should be easy
enough to Google for specific resources on any given topic (for example,
testing).</p><p>Now without further ado…</p>
            <a href=http://localhost:8000/posts/go-getting-started.html>Read More</a>
        </div>
    </div>
    <div class="post">
        <h2 class="post-title"><a href=http://localhost:8000/posts/golang-interfaces-and-nil.html>Go's interfaces and nil by example</a></h2>
<div class="post-meta">
    <span class="post-date">2016-10-30</span>
    <span class="tag"><a href="http://localhost:8000/pages/golang/index.html">golang</a></span>
</div>
        <div class="post-body">
            <p>I’ve recently been involved in conversations with a few Go developers who have
expressed frustration about Go’s interfaces with respect to nil. It seems not
everyone understands that interfaces are a reference type (like a pointer), and
they can reference other reference types (i.e., pointers, maps, slices, etc).
Because all reference types have a nil (zero) value, an interface can be nil
or an interface can reference a nil pointer; people may fail to realize that
the nility of the interface is independent from the nility of the thing it
points to, and when we ask (for example) <code>if err != nil</code>, we’re actually asking
<em>is the interface nil?</em>, not <em>is the value behind the interface nil?</em>. Here are
a few examples that will (<em>hopefully</em>) demonstrate this clearly:</p>
            <a href=http://localhost:8000/posts/golang-interfaces-and-nil.html>Read More</a>
        </div>
    </div>
    <div class="post">
        <h2 class="post-title"><a href=http://localhost:8000/posts/benchmarking-go-and-python.html>Benchmarking Go and Python</a></h2>
<div class="post-meta">
    <span class="post-date">2016-02-06</span>
    <span class="tag"><a href="http://localhost:8000/pages/python/index.html">python</a></span>
    <span class="tag"><a href="http://localhost:8000/pages/golang/index.html">golang</a></span>
</div>
        <div class="post-body">
            <p>Sometimes I’m curious about the performance of different languages. At work, I
usually write Python, but I often find tasks that are inherently parallelizable
and could thus benefit from parallel execution. Unfortunately, Python is
notoriously difficult to parallelize<sup class="footnote-reference"><a href="http://localhost:8000/posts/benchmarking-go-and-python.html#a">a</a></sup>. In one case, we needed to validate
that a table of values of a particular type could be convertible into a values
of a different type based on some known set of conversion rules. Since Go is a
great language for writing concurrent programs (and executing them in
parallel), I decided to compare a sequential Python implementation to
sequential and parallel Go implementations.</p>
            <a href=http://localhost:8000/posts/benchmarking-go-and-python.html>Read More</a>
        </div>
    </div>
    <div class="post">
        <h2 class="post-title"><a href=http://localhost:8000/posts/installing-go-on-linux-and-osx.html>Installing Go on Linux & OS X</a></h2>
<div class="post-meta">
    <span class="post-date">2016-01-19</span>
    <span class="tag"><a href="http://localhost:8000/pages/macos/index.html">macos</a></span>
    <span class="tag"><a href="http://localhost:8000/pages/golang/index.html">golang</a></span>
</div>
        <div class="post-body">
            <p>This is a guide for Unix systems (OS X and Linux), but Windows users shouldn’t
find it too difficult to figure out the equivalent commands for their platform.
I’m not assuming much prior knowledge, but readers should at least be
comfortable navigating around a Unix terminal, and any familiarity with
environment variables is helpful (a quick Google search for “environment
variables” should suffice). Without further ado:</p>
            <a href=http://localhost:8000/posts/installing-go-on-linux-and-osx.html>Read More</a>
        </div>
    </div>
</div>
        <div id="pagination">
        </div>
    </div>
    <div id="footer">
        <div id="footer-content" class="center-column">
            <div class="footer-section">
                <h4>About</h4>
                <p>
                    Software enthusiast. Amateur blogger. I build things at
                    <a href="https://tempus.com">Tempus.</a> Thoughts and
                    opinions are my own.
                </p>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <ul>
                    <li><a href="https://twitter.com/weberc2">Twitter</a></li>
                    <li><a href="https://github.com/weberc2">Github</a></li>
                    <li><a href="http://localhost:8000/feed.atom">Atom Feed</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Copyright</h4>
                Craig Weber 2016
            </div>
        </div>
    </div>

</body>

</html> 